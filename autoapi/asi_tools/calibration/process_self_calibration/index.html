<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="viewport" content="width=device-width, initial-scale=1" />

      <title>asi_tools.calibration.process_self_calibration</title>
    
          <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="../../../../_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script src="../../../../_static/documentation_options.js?v=938c9ccc"></script>
        <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="../../../../_static/theme-vendors.js"></script> -->
      <script src="../../../../_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="../../../../genindex.html" />
  <link rel="search" title="Search" href="../../../../search.html" />
  <link rel="next" title="asi_tools.daq" href="../../daq/index.html" />
  <link rel="prev" title="asi_tools.calibration.__main__" href="../__main__/index.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../../../../index.html" class="home-link">
    
      <span class="site-name">asi-core</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="../../../../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../../../index.html#welcome-to-the-asi-core-documentation">Contents:</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../../../../manual/index.html" class="reference internal ">User Manual</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../../../index.html" class="reference internal ">API Reference</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
    
      <li><a href="../../../index.html">API Reference</a> &raquo;</li>
    
      <li><a href="../../index.html">asi_tools</a> &raquo;</li>
    
      <li><a href="../index.html">asi_tools.calibration</a> &raquo;</li>
    
    <li>asi_tools.calibration.process_self_calibration</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="../__main__/index.html"
       title="previous chapter">← asi_tools.calibration.__main__</a>
  </li>
  <li class="next">
    <a href="../../daq/index.html"
       title="next chapter">asi_tools.daq →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="module-asi_tools.calibration.process_self_calibration">
<span id="asi-tools-calibration-process-self-calibration"></span><h1>asi_tools.calibration.process_self_calibration<a class="headerlink" href="#module-asi_tools.calibration.process_self_calibration" title="Link to this heading">¶</a></h1>
<p>Tools to process and validate the all-sky imager geometric self calibration</p>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#asi_tools.calibration.process_self_calibration.calibrate_from_images" title="asi_tools.calibration.process_self_calibration.calibrate_from_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calibrate_from_images</span></code></a>(last_timestamp_calibration)</p></td>
<td><p>Main function for ASI self calibration (when used as a batch processing tool).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#asi_tools.calibration.process_self_calibration.validate_from_images" title="asi_tools.calibration.process_self_calibration.validate_from_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_from_images</span></code></a>(last_timestamp_calibration[, ...])</p></td>
<td><p>Test a camera's IOR and EOR based on a csv of orb positions which were detected in advance</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#asi_tools.calibration.process_self_calibration.calibrate_from_csv" title="asi_tools.calibration.process_self_calibration.calibrate_from_csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calibrate_from_csv</span></code></a>()</p></td>
<td><p>Determine a camera's IOR and EOR based on a csv of orb positions which were detected in advance</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#asi_tools.calibration.process_self_calibration.validate_from_csv" title="asi_tools.calibration.process_self_calibration.validate_from_csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_from_csv</span></code></a>()</p></td>
<td><p>Test a camera's IOR and EOR based on a csv of orb positions which were detected in advance</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#asi_tools.calibration.process_self_calibration.sort_out_imgs_manually" title="asi_tools.calibration.process_self_calibration.sort_out_imgs_manually"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sort_out_imgs_manually</span></code></a>(calib, orb_data)</p></td>
<td><p>Use this function to copy images in which orbs were detected to the working dir. Then manually erase invalid images.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#asi_tools.calibration.process_self_calibration.filter_detected_orbs" title="asi_tools.calibration.process_self_calibration.filter_detected_orbs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_detected_orbs</span></code></a>(cfg_calib, orb_data)</p></td>
<td><p>Filter out low-quality orb observations.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="asi_tools.calibration.process_self_calibration.calibrate_from_images">
<span class="sig-prename descclassname"><span class="pre">asi_tools.calibration.process_self_calibration.</span></span><span class="sig-name descname"><span class="pre">calibrate_from_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">last_timestamp_calibration</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asi_tools.calibration.process_self_calibration.calibrate_from_images" title="Link to this definition">¶</a></dt>
<dd><p>Main function for ASI self calibration (when used as a batch processing tool).</p>
<p>Instantiate the self calibration process and determine the ASI’s calibration (IOR + EOR).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>last_timestamp_calibration</strong> – Timestamp indicating the end of the calibration period</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="asi_tools.calibration.process_self_calibration.validate_from_images">
<span class="sig-prename descclassname"><span class="pre">asi_tools.calibration.process_self_calibration.</span></span><span class="sig-name descname"><span class="pre">validate_from_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">last_timestamp_calibration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_calib_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asi_tools.calibration.process_self_calibration.validate_from_images" title="Link to this definition">¶</a></dt>
<dd><p>Test a camera’s IOR and EOR based on a csv of orb positions which were detected in advance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>last_timestamp_calibration</strong> – tz-aware datetime, last timestamp included in the calibration to be validated</p></li>
<li><p><strong>path_calib_results</strong> – str, path to mat file of calibration results to be validated</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="asi_tools.calibration.process_self_calibration.calibrate_from_csv">
<span class="sig-prename descclassname"><span class="pre">asi_tools.calibration.process_self_calibration.</span></span><span class="sig-name descname"><span class="pre">calibrate_from_csv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asi_tools.calibration.process_self_calibration.calibrate_from_csv" title="Link to this definition">¶</a></dt>
<dd><p>Determine a camera’s IOR and EOR based on a csv of orb positions which were detected in advance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="asi_tools.calibration.process_self_calibration.validate_from_csv">
<span class="sig-prename descclassname"><span class="pre">asi_tools.calibration.process_self_calibration.</span></span><span class="sig-name descname"><span class="pre">validate_from_csv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#asi_tools.calibration.process_self_calibration.validate_from_csv" title="Link to this definition">¶</a></dt>
<dd><p>Test a camera’s IOR and EOR based on a csv of orb positions which were detected in advance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="asi_tools.calibration.process_self_calibration.sort_out_imgs_manually">
<span class="sig-prename descclassname"><span class="pre">asi_tools.calibration.process_self_calibration.</span></span><span class="sig-name descname"><span class="pre">sort_out_imgs_manually</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orb_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asi_tools.calibration.process_self_calibration.sort_out_imgs_manually" title="Link to this definition">¶</a></dt>
<dd><p>Use this function to copy images in which orbs were detected to the working dir. Then manually erase invalid images.</p>
<p>If you may run calibrate_from_csv twice on the same set of images and you have already sorted out the images
manually in the first run answer ‘no’ to the question ‘Do you really want to copy images to used_imgs folder?’.</p>
<p>If the RMSD is larger then around 6 consider manually sorting out images with clouds in the area around the sun and
images where the sun disk would be cut/ obscured by the mask boundary. Otherwise you can save time and skip the
manual sorting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calib</strong> – Calibration instance</p></li>
<li><p><strong>orb_data</strong> – Dataframe of astronomically expected and image-processing-based orb positions</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe orb_data without rows for which the corresponding images were sorted out manually</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="asi_tools.calibration.process_self_calibration.filter_detected_orbs">
<span class="sig-prename descclassname"><span class="pre">asi_tools.calibration.process_self_calibration.</span></span><span class="sig-name descname"><span class="pre">filter_detected_orbs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_calib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orb_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asi_tools.calibration.process_self_calibration.filter_detected_orbs" title="Link to this definition">¶</a></dt>
<dd><p>Filter out low-quality orb observations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg_calib</strong> – Dictionary with configuration parameters</p></li>
<li><p><strong>orb_data</strong> – Dataframe of orb observations</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered of with orb observations</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="../__main__/index.html"
       title="previous chapter">← asi_tools.calibration.__main__</a>
  </li>
  <li class="next">
    <a href="../../daq/index.html"
       title="next chapter">asi_tools.daq →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2025, DLR.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.2.3 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.9.1.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>